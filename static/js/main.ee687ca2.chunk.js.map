{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Header.jsx","components/Info.jsx","components/Drawer/index.js","components/Card/index.jsx","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Header","onClickCart","className","to","alt","width","height","src","onClick","Info","title","image","description","setCartOpened","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","items","onRemove","opened","useState","orderId","setOrderId","isOrderComplite","setIsOrderComplite","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imgUrl","Math","round","disabled","Card","onPlus","onFavorite","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","onChange","value","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","console","error","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","onRemoveItem","favObj","Provider","some","exact","path","element","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ee687ca2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__2cEZ7\",\"overlayVisible\":\"Drawer_overlayVisible__3j8Hp\",\"drawer\":\"Drawer_drawer__1OvHJ\",\"items\":\"Drawer_items__3Uug6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3GzS-\",\"plus\":\"Card_plus__2wI3B\",\"favorite\":\"Card_favorite__2YkRG\"};","import React from 'react';\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nexport const useCart = () => {\r\n  const { cartItems, setCartItems } = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n\r\n  return { cartItems, setCartItems, totalPrice };\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useCart } from '../hooks/useCart';\r\n\r\nfunction Header({ onClickCart }) {\r\n  const { totalPrice } = useCart();\r\n\r\n  return (\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n      <Link to=\"/\">\r\n        <div className=\"d-flex align-center\">\r\n          <img alt=\"\" width={40} height={40} src=\"./img/image_4.png\" />\r\n          <div className=\"headerInfo\">\r\n            <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кросовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className=\"d-flex aligh__center\">\r\n        <li className=\"mr-30 cu-p\" onClick={onClickCart}>\r\n          <img width={18} height={18} alt=\"\" src=\"/img/cart.svg\" />\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n\r\n        <li>\r\n          <Link to=\"/favorites\">\r\n            <img className=\"mr-20 cu-p\" width={18} height={18} alt=\"\" src=\"/img/like.svg\" />\r\n          </Link>\r\n        </li>\r\n\r\n        <li>\r\n          <Link to=\"/orders\">\r\n            <img width={18} height={18} alt=\"\" src=\"/img/user.svg\" />\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nconst Info = ({ title, image, description }) => {\r\n  const { setCartOpened } = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120px\" src={image} alt=\"Empty\" />\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button onClick={() => setCartOpened(false)} className=\"greenButton\">\r\n        <img src=\"/img/arrow.svg\" alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Info from '../Info';\r\nimport { useCart } from '../../hooks/useCart';\r\n\r\nimport styles from './Drawer.module.scss';\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Drawer({ onClose, items = [], onRemove, opened }) {\r\n  const { cartItems, setCartItems, totalPrice } = useCart();\r\n  const [orderId, setOrderId] = React.useState(null);\r\n  const [isOrderComplite, setIsOrderComplite] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const { data } = await axios.post('https://61f91cc5783c1d0017c4495f.mockapi.io/orders', {\r\n        items: cartItems,\r\n      });\r\n      setOrderId(data.id);\r\n      setIsOrderComplite(true);\r\n      setCartItems([]);\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete('https://61f91cc5783c1d0017c4495f.mockapi.io/cart/' + item.id);\r\n        await delay(1000);\r\n      }\r\n    } catch (error) {\r\n      alert('Не удалось создать заказ');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\"d-flex justify-between mb-30\">\r\n          Корзина <img onClick={onClose} className=\"cu-p\" src=\"/img/btn-remove.svg\" alt=\"Close\" />\r\n        </h2>\r\n\r\n        {items.length > 0 ? (\r\n          <div className=\"d-flex flex-column flex\">\r\n            <div className=\"items flex\">\r\n              {items.map((obj) => (\r\n                <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                  <div\r\n                    style={{ backgroundImage: `url(${obj.imgUrl})` }}\r\n                    className=\"cartItemImg\"></div>\r\n                  <div className=\"mr-20 flex\">\r\n                    <p className=\"mb-5\">{obj.title}</p>\r\n                    <b>{obj.price}.</b>\r\n                  </div>\r\n                  <img\r\n                    onClick={() => onRemove(obj.id)}\r\n                    className=\"removeBtn\"\r\n                    src=\"/img/btn-remove.svg\"\r\n                    alt=\"Remove\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"cartTotalBlock\">\r\n              <ul>\r\n                <li>\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб.</b>\r\n                </li>\r\n                <li>\r\n                  <span>Налог 5%</span>\r\n                  <div></div>\r\n                  <b>{Math.round((totalPrice / 100) * 5)} руб.</b>\r\n                </li>\r\n              </ul>\r\n              <button disabled={isLoading} className=\"greenButton\" onClick={onClickOrder}>\r\n                Оформить заказ <img src=\"/img/arrow.svg\" alt=\"arrow\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Info\r\n            title={isOrderComplite ? 'Заказ оформлен!' : 'Корзина пустая'}\r\n            description={\r\n              isOrderComplite\r\n                ? `Ваш заказ #${orderId} скоро будет передан курьерской доставкой`\r\n                : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'\r\n            }\r\n            image={isOrderComplite ? '/img/complete-order.jpg' : '/img/empty-cart.jpg'}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Drawer;\r\n","import React from 'react';\r\nimport styles from './Card.module.scss';\r\nimport ContentLoader from 'react-content-loader';\r\nimport AppContext from '../../context';\r\n\r\nfunction Card({\r\n  id,\r\n  imgUrl,\r\n  title,\r\n  price,\r\n  onPlus,\r\n  onFavorite,\r\n  favorited = false,\r\n  loading = false,\r\n}) {\r\n  const { isItemAdded } = React.useContext(AppContext);\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n  const obj = { id, parentId: id, imgUrl, title, price };\r\n\r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n  };\r\n\r\n  const onClickFavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {loading ? (\r\n        <ContentLoader\r\n          speed={2}\r\n          width={155}\r\n          height={250}\r\n          viewBox=\"0 0 155 265\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\">\r\n          <rect x=\"1\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\" />\r\n          <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\" />\r\n          <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n          <rect x=\"1\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" />\r\n          <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n      ) : (\r\n        <>\r\n          {onFavorite && (\r\n            <div className={styles.favorite}>\r\n              <img\r\n                src={isFavorite ? '/img/liked.svg' : '/img/unliked.svg'}\r\n                alt=\"Unliked\"\r\n                onClick={onClickFavorite}\r\n              />\r\n            </div>\r\n          )}\r\n          <img width=\"100%\" height={135} src={imgUrl} alt=\"\" />\r\n          <h5>{title}</h5>\r\n          <div className=\"d-flex justify-between align-center\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span>Цена:</span>\r\n              <b>{price} руб.</b>\r\n            </div>\r\n            {onPlus && (\r\n              <img\r\n                className={styles.plus}\r\n                onClick={onClickPlus}\r\n                src={isItemAdded(id) ? '/img/btn-cheked.svg' : '/img/btn-plus.svg'}\r\n                alt=\"Plus\"\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from '../components/Card';\r\n\r\nfunction Home({\r\n  items,\r\n  searchValue,\r\n  setSearchValue,\r\n  onChangeSearchInput,\r\n  onAddToFavorite,\r\n  onAddToCart,\r\n  isLoading,\r\n}) {\r\n  const renderItems = () => {\r\n    const filtredItems = items.filter((item) =>\r\n      item.title.toLowerCase().includes(searchValue.toLowerCase()),\r\n    );\r\n    return (isLoading ? [...Array(8)] : filtredItems).map((item, index) => (\r\n      <Card\r\n        key={index}\r\n        onPlus={(obj) => onAddToCart(obj)}\r\n        onFavorite={(obj) => onAddToFavorite(obj)}\r\n        loading={isLoading}\r\n        {...item}\r\n      />\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center mb-40 justify-between\">\r\n        <h1 className=\"\">{searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все кроссовки'}</h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src=\"/img/search.svg\" alt=\"Search\" />\r\n          {searchValue && (\r\n            <img\r\n              onClick={() => setSearchValue('')}\r\n              className=\"clear cu-p\"\r\n              src=\"/img/btn-remove.svg\"\r\n              alt=\"Clear\"\r\n            />\r\n          )}\r\n          <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">{renderItems()}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport Card from '../components/Card';\r\nimport AppContext from '../context';\r\n\r\nfunction Favorites() {\r\n  const { favorites, onAddToFavorite } = React.useContext(AppContext);\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center mb-40 justify-between\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {favorites.map((item, index) => (\r\n          <Card key={index} favorited={true} onFavorite={onAddToFavorite} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport Card from '../components/Card';\r\nimport AppContext from '../context';\r\n\r\nfunction Orders() {\r\n  const { onAddToFavorite, onAddToCart } = React.useContext(AppContext);\r\n\r\n  const [orders, setOrders] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await axios.get('https://61f91cc5783c1d0017c4495f.mockapi.io/orders');\r\n        // console.log(data.map((obj) => obj.items).flat());\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        alert('Ошибка при запросе заказов');\r\n        console.error(error);\r\n      }\r\n    })();\r\n  }, []);\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center mb-40 justify-between\">\r\n        <h1>Мои заказы</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {(isLoading ? [...Array(8)] : orders).map((item, index) => (\r\n          <Card key={index} {...item} loading={isLoading} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","import axios from 'axios';\nimport { Route, Routes } from 'react-router-dom';\nimport Header from './components/Header';\nimport Drawer from './components/Drawer';\nimport React from 'react';\nimport Home from './pages/Home';\nimport Favorites from './pages/Favorites';\nimport AppContext from './context';\nimport Orders from './pages/Orders';\n\nfunction App() {\n  const [items, setItems] = React.useState([]);\n  const [cartItems, setCartItems] = React.useState([]);\n  const [favorites, setFavorites] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState('');\n  const [cartOpened, setCartOpened] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      try {\n        const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\n          axios.get('https://61f91cc5783c1d0017c4495f.mockapi.io/cart'),\n          axios.get('https://61f91cc5783c1d0017c4495f.mockapi.io/favorites'),\n          axios.get('https://61f91cc5783c1d0017c4495f.mockapi.io/items'),\n        ]);\n\n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert('Ошибка при запросе данных');\n        console.error(error);\n      }\n    }\n    fetchData();\n  }, []);\n\n  const onAddToCart = async (obj) => {\n    try {\n      const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id));\n      if (findItem) {\n        setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\n        await axios.delete(`https://61f91cc5783c1d0017c4495f.mockapi.io/cart/${findItem.id}`);\n      } else {\n        setCartItems((prev) => [...prev, obj]);\n        const { data } = await axios.post('https://61f91cc5783c1d0017c4495f.mockapi.io/cart', obj);\n        setCartItems((prev) =>\n          prev.map((item) => {\n            if (item.parentId === data.parentId) {\n              return {\n                ...item,\n                id: data.id,\n              };\n            }\n            return item;\n          }),\n        );\n      }\n    } catch (error) {\n      alert('Ошибка при добавлении в корзину');\n      console.error(error);\n    }\n  };\n\n  const onRemoveItem = async (id) => {\n    try {\n      setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)));\n      await axios.delete(`https://61f91cc5783c1d0017c4495f.mockapi.io/cart/${id}`);\n    } catch (error) {\n      alert('Ошибка при удалении из корзины');\n      console.error(error);\n    }\n  };\n\n  const onAddToFavorite = async (obj) => {\n    try {\n      if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\n        axios.delete(`https://61f91cc5783c1d0017c4495f.mockapi.io/favorites/${obj.id}`);\n        setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\n      } else {\n        const { data } = await axios.post(\n          'https://61f91cc5783c1d0017c4495f.mockapi.io/favorites',\n          obj,\n        );\n        setFavorites((prev) => [...prev, data]);\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фавориты');\n      console.error(error);\n    }\n  };\n\n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value);\n  };\n\n  const isItemAdded = (id) => {\n    return cartItems.some((obj) => Number(obj.parentId) === Number(id));\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        items,\n        cartItems,\n        favorites,\n        isItemAdded,\n        onAddToFavorite,\n        onAddToCart,\n        setCartOpened,\n        setCartItems,\n      }}>\n      <div className=\"wrapper clear\">\n        <Drawer\n          items={cartItems}\n          onClose={() => setCartOpened(false)}\n          onRemove={onRemoveItem}\n          opened={cartOpened}\n        />\n\n        <Header\n          onClickCart={() => {\n            setCartOpened(true);\n          }}\n        />\n\n        <Routes>\n          <Route\n            exact\n            path=\"/\"\n            element={\n              <Home\n                items={items}\n                cartItems={cartItems}\n                searchValue={searchValue}\n                setSearchValue={setSearchValue}\n                onChangeSearchInput={onChangeSearchInput}\n                onAddToFavorite={onAddToFavorite}\n                onAddToCart={onAddToCart}\n                isLoading={isLoading}\n              />\n            }\n          />\n          <Route path=\"/favorites\" exact element={<Favorites />} />\n          <Route path=\"/orders\" exact element={<Orders />} />\n        </Routes>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport 'macro-css';\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}